{% extends 'moneyapp/base.html' %}
{% block content %}
    <h2 class="text-center my-3">Stats</h2>
    <div class="card mb-3">
        <div class="card-body">
            <p><strong>Total Income:</strong> ${{ total_income }}</p>
            <p><strong>Total Expenses:</strong> ${{ total_expenses }}</p>
        </div>
    </div>
    <h3>Budgets</h3>
    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Spent</th>
                    <th>Budget</th>
                </tr>
            </thead>
            <tbody>
                {% for cat in category_stats %}
                    <tr>
                        <td>{{ cat.name }}</td>
                        <td>${{ cat.spent }}</td>
                        <td>${{ cat.budget }}</td>
                    </tr>
                {% empty %}
                    <tr><td colspan="3">No budgets yet.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <h3>Goals</h3>
    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Allocated</th>
                    <th>Target</th>
                </tr>
            </thead>
            <tbody>
                {% for goal in goal_stats %}
                    <tr>
                        <td>{{ goal.name }}</td>
                        <td>${{ goal.allocated }}</td>
                        <td>${{ goal.target }}</td>
                    </tr>
                {% empty %}
                    <tr><td colspan="3">No goals yet.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}